(function(t){function e(e){for(var a,i,c=e[0],r=e[1],l=e[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,c=1;c<s.length;c++){var r=s[c];0!==o[r]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},o={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/blanche-account-website/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=r;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("cd49")},"069a":function(t,e,s){},"0b45":function(t,e,s){},"16f8":function(t,e,s){"use strict";s("8da7")},"28f0":function(t,e,s){"use strict";s.r(e);var a=s("e017"),o=s.n(a),n=s("21a1"),i=s.n(n),c=new o.a({id:"outcome",use:"outcome-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="outcome"><defs><style type="text/css">@font-face { font-family: "feedback-iconfont"; src: url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944") format("woff2"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944") format("woff"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944") format("truetype"); }\n</style></defs><path d="M611.84 532.48H532.48V481.28h79.36c11.3152 0 20.48-9.1648 20.48-20.48s-9.1648-20.48-20.48-20.48h-62.2592l64.4608-64.4608a20.52096 20.52096 0 0 0 0-28.9792 20.52096 20.52096 0 0 0-28.9792 0l-72.7552 72.7552c-0.1536 0.1536-0.2048 0.3072-0.3584 0.4096a1.3824 1.3824 0 0 0-0.3584-0.4096l-72.704-72.7552a20.52096 20.52096 0 0 0-28.9792 0 20.52096 20.52096 0 0 0 0 28.9792L474.4192 440.32H412.16c-11.3152 0-20.48 9.1648-20.48 20.48s9.1648 20.48 20.48 20.48H491.52v51.2H412.16c-11.3152 0-20.48 9.1648-20.48 20.48s9.1648 20.48 20.48 20.48H491.52v128c0 11.3152 9.1648 20.48 20.48 20.48s20.48-9.1648 20.48-20.48v-128h79.36c11.3152 0 20.48-9.1648 20.48-20.48s-9.1648-20.48-20.48-20.48zM928.5632 495.1552L863.5392 430.08a20.52096 20.52096 0 0 0-28.9792 0 20.52096 20.52096 0 0 0 0 28.9792l32.4608 32.4608h-110.5408c-10.5984 0-19.2 8.6016-19.2 19.2v2.56c0 10.5984 8.6016 19.2 19.2 19.2h107.3152l-29.2352 29.2352a20.52096 20.52096 0 0 0 0 28.9792 20.52096 20.52096 0 0 0 28.9792 0l65.0752-65.0752c4.1984-4.1984 6.144-9.728 5.9392-15.2064a20.5824 20.5824 0 0 0-5.9904-15.2576z" fill="#2db970" p-id="3862" data-spm-anchor-id="a313x.7781069.0.i13" class="selected" /><path d="M830.976 716.1856C763.5456 821.1968 645.7856 890.88 512 890.88c-208.5376 0-379.4432-171.3664-378.88-379.8528C133.6832 302.5408 303.4112 133.12 512 133.12c131.6864 0 247.9104 67.5328 315.8016 169.8304 3.84 5.7856 10.1888 9.3696 17.1008 9.3696h0.3584c16.2816 0 25.9584-18.176 16.9472-31.744-78.2336-117.9136-214.3744-194.2528-367.4624-188.0576-215.0912 8.704-390.5024 181.7088-401.9712 396.6976C79.9232 730.9824 272.9472 931.84 512 931.84c148.2752 0 278.9376-77.312 353.5872-193.792 8.704-13.6192-0.9216-31.488-17.1008-31.488h-0.256c-6.9632 0-13.4144 3.6864-17.2544 9.6256z" fill="#2db970" p-id="3863" data-spm-anchor-id="a313x.7781069.0.i14" class="selected" /></symbol>'});i.a.add(c);e["default"]=c},"2dd1":function(t,e,s){"use strict";s("f221")},3943:function(t,e,s){"use strict";s("d153")},"3db9":function(t,e,s){},4411:function(t,e,s){},"4ba4":function(t,e,s){},"4f4a":function(t,e,s){"use strict";s("069a")},5746:function(t,e,s){"use strict";s("c28c")},"609a":function(t,e,s){},6393:function(t,e,s){"use strict";s("ec49")},"72d6":function(t,e,s){"use strict";s("b694")},"8bd2":function(t,e,s){"use strict";s("c32a")},"8ccb":function(t,e,s){"use strict";s.r(e);var a=s("e017"),o=s.n(a),n=s("21a1"),i=s.n(n),c=new o.a({id:"statistics",use:"statistics-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="statistics"><defs><style type="text/css">@font-face { font-family: feedback-iconfont; src: url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944") format("woff2"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944") format("woff"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944") format("truetype"); }\n</style></defs><path d="M992.0512 569.2416h-496.64c-17.7152 0-32.0512-14.336-32.0512-32.0512V32.0512c0-17.7152 14.336-32.0512 32.0512-32.0512C786.8416 0 1024 241.0496 1024 537.2928c0 17.6128-14.336 31.9488-31.9488 31.9488z m-464.5888-64h431.5136C943.4112 269.9264 758.3744 81.2032 527.4624 65.1264v440.1152z" p-id="1295" /><path d="M486.5024 1024C218.2144 1024 0 803.6352 0 532.6848 0 299.9296 163.6352 97.4848 389.12 51.2a31.98976 31.98976 0 1 1 12.9024 62.6688C206.1312 154.0096 64 330.1376 64 532.6848c0 235.6224 189.5424 427.3152 422.5024 427.3152 191.3856 0 359.3216-130.56 408.3712-317.44a32.03072 32.03072 0 0 1 61.952 16.2816C900.3008 873.7792 706.9696 1024 486.5024 1024z" p-id="1296" /></symbol>'});i.a.add(c);e["default"]=c},"8d9e":function(t,e,s){"use strict";s("3db9")},"8da7":function(t,e,s){},9563:function(t,e,s){"use strict";s.r(e);var a=s("e017"),o=s.n(a),n=s("21a1"),i=s.n(n),c=new o.a({id:"income",use:"income-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="income"><defs><style type="text/css">@font-face { font-family: "feedback-iconfont"; src: url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944") format("woff2"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944") format("woff"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944") format("truetype"); }\n</style></defs><path d="M508.98 916.64c-220.28 0-399.48-179.21-399.48-399.48s179.21-399.48 399.48-399.48c15.04 0 27.24 12.19 27.24 27.24 0 15.05-12.2 27.24-27.24 27.24-190.24 0-345.01 154.77-345.01 345.01s154.77 345.01 345.01 345.01S853.99 707.4 853.99 517.16c0-15.05 12.2-27.24 27.24-27.24s27.24 12.19 27.24 27.24c0 220.28-179.21 399.48-399.49 399.48z" fill="#f4b32e" p-id="2788" data-spm-anchor-id="a313x.7781069.0.i7" class="selected" /><path d="M617.93 536.13h-81.71V486.2h81.71c14.98 0 27.24-12.26 27.24-27.24 0-14.98-12.26-27.24-27.24-27.24h-79.51l50.49-50.49c10.59-10.59 10.59-27.93 0-38.52-10.59-10.59-27.93-10.59-38.52 0l-41.41 41.41-41.41-41.41c-10.59-10.59-27.93-10.59-38.52 0-10.59 10.59-10.59 27.93 0 38.52l50.49 50.49h-79.51c-14.98 0-27.24 12.26-27.24 27.24 0 14.98 12.26 27.24 27.24 27.24h81.71v49.94h-81.71c-14.98 0-27.24 12.26-27.24 27.24 0 14.98 12.26 27.24 27.24 27.24h81.71v81.71c0 14.98 12.26 27.24 27.24 27.24 14.98 0 27.24-12.26 27.24-27.24v-81.71h81.71c14.98 0 27.24-12.26 27.24-27.24 0-14.99-12.26-27.25-27.24-27.25zM844.91 249.73h-124.9l32.88-32.88c10.59-10.59 10.59-27.93 0-38.52-10.59-10.59-27.93-10.59-38.52 0l-77.04 77.04c-5.89 5.89-8.38 13.86-7.72 21.6-0.66 7.74 1.83 15.71 7.72 21.6l77.04 77.04c10.59 10.59 27.93 10.59 38.52 0 10.59-10.59 10.59-27.93 0-38.52l-32.88-32.88h124.91c14.98 0 27.24-12.26 27.24-27.24-0.01-14.98-12.27-27.24-27.25-27.24z" fill="#f4b32e" p-id="2789" data-spm-anchor-id="a313x.7781069.0.i8" class="selected" /></symbol>'});i.a.add(c);e["default"]=c},a448:function(t,e,s){"use strict";s("0b45")},a6d0:function(t,e,s){"use strict";s("c2eb")},b422:function(t,e,s){var a={"./account.svg":"ecec","./detail.svg":"ddc0","./income.svg":"9563","./outcome.svg":"28f0","./statistics.svg":"8ccb"};function o(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=n,t.exports=o,o.id="b422"},b5e9:function(t,e,s){"use strict";s("ca11")},b694:function(t,e,s){},c28c:function(t,e,s){},c2eb:function(t,e,s){},c32a:function(t,e,s){},c6cd3:function(t,e,s){"use strict";s("f26f")},ca11:function(t,e,s){},cd49:function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)},n=[],i=(s("6393"),s("2877")),c={},r=Object(i["a"])(c,o,n,!1,null,null,null),l=r.exports,u=s("9483");Object(u["a"])("/blanche-account-website/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var d=s("8c4f"),p=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Layout",{attrs:{"class-prefix":"layout"}},[e("NumberPad",{attrs:{type:t.record.type},on:{"update:amount":t.onUpdateAmount,submit:t.saveRecord}}),e("Type",{attrs:{type:t.record.type},on:{"update:type":function(e){return t.$set(t.record,"type",e)}}}),e("Notes",{attrs:{"field-name":"日期",type:"datetime-local",placeholder:"点击挑选时间",value:t.record.createAt},on:{"update:value":function(e){return t.$set(t.record,"createAt",e)}}}),e("Notes",{attrs:{"field-name":"备注",type:"text",placeholder:"请在这里输入备注",value:t.record.notes},on:{"update:value":function(e){return t.$set(t.record,"notes",e)}}}),e("Tags",{on:{"update:tags":t.onUpdateTags}})],1)},f=[],h=s("9ab4"),m=s("1b40"),v=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"tags"},[e("div",{staticClass:"new"},[e("button",{on:{click:t.createTag}},[t._v("新增标签")])]),e("ul",{staticClass:"current"},t._l(t.tagList,(function(s){return e("li",{key:s,class:{selected:t.selectedTags.indexOf(s)>=0},on:{click:function(e){return t.toggle(s)}}},[t._v(t._s(s)+" ")])})),0)])},y=[];let b=class extends a["a"]{constructor(){super(...arguments),this.tagList=this.$store.state.tagList,this.selectedTags=""}toggle(t){this.selectedTags===t?this.selectedTags="":this.selectedTags=t,this.$emit("update:tags",this.selectedTags)}createTag(){const t=window.prompt("请输入标签名称");""===t?window.alert("标签名不可为空"):this.$store.commit("insertTag",t)}};b=Object(h["a"])([m["a"]],b);var g=b,w=g,_=(s("8bd2"),Object(i["a"])(w,v,y,!1,null,"51642287",null)),x=_.exports,O=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("label",{staticClass:"notes"},[e("span",{staticClass:"name"},[t._v(t._s(t.fieldName))]),"datetime-local"===t.type?[e("input",{attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.formatDay(t.value)},on:{input:function(e){return t.onValueChanged(e.target.value)}}})]:[e("input",{attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.onValueChanged(e.target.value)}}})]],2)},C=[],j=s("5a0c"),S=s.n(j);let M=class extends a["a"]{formatDay(t){return S()(t).format("YYYY-MM-DD HH:mm:ss")}onValueChanged(t){this.$emit("update:value",t)}};Object(h["a"])([Object(m["b"])()],M.prototype,"value",void 0),Object(h["a"])([Object(m["b"])({required:!0})],M.prototype,"fieldName",void 0),Object(h["a"])([Object(m["b"])(String)],M.prototype,"placeholder",void 0),Object(h["a"])([Object(m["b"])(String)],M.prototype,"type",void 0),M=Object(h["a"])([m["a"]],M);var k=M,Y=k,L=(s("2dd1"),Object(i["a"])(Y,O,C,!1,null,"6bf5516d",null)),D=L.exports,T=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("ul",{staticClass:"type"},[e("li",{class:"-"===t.type&&"outcome",on:{click:function(e){return t.seletType("-")}}},[t._v("支出")]),e("li",{class:"+"===t.type&&"income",on:{click:function(e){return t.seletType("+")}}},[t._v("收入")])])},P=[];s("d9e2");let N=class extends a["a"]{seletType(t){if("-"!==t&&"+"!==t)throw new Error("type is unknown");this.$emit("update:type",t)}};Object(h["a"])([Object(m["b"])()],N.prototype,"type",void 0),N=Object(h["a"])([m["a"]],N);var z=N,A=z,$=(s("5746"),Object(i["a"])(A,T,P,!1,null,"69ca9757",null)),I=$.exports,E=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"numberPad"},[e("div",{staticClass:"output"},[t._v(t._s(t.output))]),e("div",{staticClass:"buttons"},[e("button",{on:{click:t.outputContent}},[t._v("1")]),e("button",{on:{click:t.outputContent}},[t._v("2")]),e("button",{on:{click:t.outputContent}},[t._v("3")]),e("button",{on:{click:t.remove}},[t._v("删除")]),e("button",{on:{click:t.outputContent}},[t._v("4")]),e("button",{on:{click:t.outputContent}},[t._v("5")]),e("button",{on:{click:t.outputContent}},[t._v("6")]),e("button",{on:{click:t.clear}},[t._v("清空")]),e("button",{on:{click:t.outputContent}},[t._v("7")]),e("button",{on:{click:t.outputContent}},[t._v("8")]),e("button",{on:{click:t.outputContent}},[t._v("9")]),e("button",{class:"-"===t.type?"ok-outcome":"ok-income",on:{click:t.ok}},[t._v("OK")]),e("button",{staticClass:"zero",on:{click:t.outputContent}},[t._v("0")]),e("button",{on:{click:t.outputContent}},[t._v(".")])])])},V=[];let H=class extends a["a"]{constructor(){super(...arguments),this.output="0",this.odd=0}outputContent(t){const e=t.target.textContent;if(!(this.output.length>=16))if("0"!==this.output){if(this.output.indexOf(".")>=0){if(this.odd=this.output.split(".")[1].length+1,"."===e)return;if(this.odd>2)return}this.output+=e}else"0123456789".indexOf(e)>=0?this.output=e:this.output+=e}remove(){1==this.output.length?this.output="0":this.output=this.output.slice(0,-1)}clear(){this.output="0"}ok(){"0"===this.output?alert("请输入大于0的金额"):(this.$emit("update:amount",this.output),this.$emit("submit",this.output),this.output="0")}};Object(h["a"])([Object(m["b"])()],H.prototype,"type",void 0),H=Object(h["a"])([m["a"]],H);var B=H,J=B,K=(s("ff25"),Object(i["a"])(J,E,V,!1,null,"6c0bd47b",null)),R=K.exports;let F=class extends a["a"]{constructor(){super(...arguments),this.record={tags:[],type:"-",notes:"",amount:0,createAt:(new Date).toISOString()}}onUpdateTags(t){this.record.tags=t}onUpdateAmount(t){this.record.amount=parseFloat(t)}saveRecord(){const t=JSON.parse(JSON.stringify(this.record));this.$store.commit("insertRecord",t),this.$router.replace("/detail")}onValueChanged(t){console.log(t)}};Object(h["a"])([Object(m["c"])("value")],F.prototype,"onValueChanged",null),F=Object(h["a"])([Object(m["a"])({components:{NumberPad:R,Type:I,Notes:D,Tags:x}})],F);var U=F,W=U,q=(s("e0f0"),Object(i["a"])(W,p,f,!1,null,null,null)),G=q.exports,Q=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Layout",[e("div",{staticClass:"layout"},[e("Nav",{attrs:{date:t.theDate},on:{"update:date":function(e){t.theDate=e}}}),e("Content",{attrs:{"the-date":t.theDate}})],1)])},X=[],Z=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"nav"},[e("div",{staticClass:"title"},[t._v("布朗奇记账")]),e("div",{staticClass:"time"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.theYear,expression:"theYear"}],staticClass:"year",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.theYear=e.target.multiple?s:s[0]}}},t._l(t.years,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s)+"年")])})),0),e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.theMonth,expression:"theMonth"}],staticClass:"month",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.theMonth=e.target.multiple?s:s[0]}}},t._l(12,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(t.beautify(s)))])})),0),e("span",{staticClass:"selectMonth"},[t._v("月")])])]),e("ul",{staticClass:"tabs"},[e("li",{staticClass:"item"},[e("span",{staticClass:"decoration"},[t._v("总支出（元）")]),e("span",{staticClass:"number"},[t._v(t._s(t.monthExpense().outcome))])]),e("li",{staticClass:"item"},[e("span",{staticClass:"decoration"},[t._v("总收入（元）")]),e("span",{staticClass:"number"},[t._v(t._s(t.monthExpense().income))])])])])},tt=[];function et(t){return JSON.parse(JSON.stringify(t))}let st=class extends a["a"]{constructor(){super(...arguments),this.theYear=window.localStorage.getItem("year")||S()().year().toString(),this.theMonth=window.localStorage.getItem("month")||(S()().month()+1).toString()}get years(){const t=S()().year();let e=2010;const s=[];while(e<=t)s.push(e),e++;return s}beautify(t){return t<10?"0"+t:t}get result(){const t=this.$store.state.dailyExpense,e=et(t);if(0===e.length)return;const s=[{title:S()(e[0].title).format("YYYY-MM"),income:0,outcome:0}];for(let a=0;a<e.length;a++){const t=e[a],o=s[s.length-1];S()(t.title).isSame(o.title,"month")?(o.income+=t.total.income,o.outcome+=t.total.outcome):s.push({title:S()(e[a].title).format("YYYY-MM"),income:t.total.income,outcome:t.total.outcome})}return s}monthExpense(){const{result:t}=this,e=this.date;let s={title:S()(e).format("YYYY-MM"),income:0,outcome:0};if(void 0===t)return s;for(let a=0;a<t.length;a++)S()(t[a].title).isSame(e,"month")&&(s=t[a]);return s}saveYear(t){let e=S()(t.toString().concat("-",this.theMonth.toString())).format("YYYY-MM");window.localStorage.setItem("year",t),this.$emit("update:date",e)}saveMonth(t){let e=S()(this.theYear.toString().concat("-",t.toString())).format("YYYY-MM");window.localStorage.setItem("month",t),this.$emit("update:date",e)}};Object(h["a"])([Object(m["b"])()],st.prototype,"date",void 0),Object(h["a"])([Object(m["c"])("theYear")],st.prototype,"saveYear",null),Object(h["a"])([Object(m["c"])("theMonth")],st.prototype,"saveMonth",null),st=Object(h["a"])([m["a"]],st);var at=st,ot=at,nt=(s("a448"),Object(i["a"])(ot,Z,tt,!1,null,"46df843b",null)),it=nt.exports,ct=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"content"},[0===t.result.length?[e("p",{staticClass:"tip"},[t._v("暂无数据记录,快来记一笔吧！")])]:[e("div",{staticClass:"wrapper"},t._l(t.result,(function(s,a){return e("div",{key:s.id,staticClass:"item"},[e("ol",[e("li",{staticClass:"title"},[e("span",{staticClass:"time"},[t._v(t._s(t.beautify(s.title)))]),e("span",{staticClass:"money"},[t._v(t._s(t.dailyExpense(s.total)))])]),e("ul",t._l(s.items,(function(s){return e("li",{key:s.id},[e("Icon",{attrs:{name:"-"===s.type?"outcome":"income"}}),e("div",{staticClass:"detail"},[e("span",{staticClass:"msg"},[t._v(t._s(s.tags.toString()||t.showTag(s.type).type))]),e("span",{staticClass:"money"},[t._v(t._s(t.showTag(s.type).symbol)+t._s(s.amount))]),e("span",{staticClass:"notes"},[t._v(t._s(s.notes||"暂无备注"))])])],1)})),0)])])})),0)]],2)},rt=[];s("13d5");function lt(t){const e=t.toString().split(".")[0];let s=t.toString().split(".")[1];return s&&(s=s.slice(0,2)),parseFloat([e,s].join("."))}let ut=class extends a["a"]{constructor(){super(...arguments),this.recordList=this.$store.state.recordList}get result(){const{recordList:t}=this;if(0===t.length)return[];const e=et(t).sort((t,e)=>S()(e.createAt).valueOf()-S()(t.createAt).valueOf());let s=0,a=[{id:s,title:S()(e[0].createAt).format("YYYY-MM-DD"),total:{income:0,outcome:0},items:[e[0]]}];for(let o=1;o<e.length;o++){s++;const t=e[o],n=a[a.length-1];S()(n.title).isSame(t.createAt,"day")?a[a.length-1].items.push(e[o]):a.push({id:s,title:S()(e[o].createAt).format("YYYY-MM-DD"),total:{income:0,outcome:0},items:[e[o]]})}return a=a.filter(t=>S()(t.title).isSame(this.theDate,"month")),a.map(t=>{t.total.income=t.items.reduce((t,e)=>"+"===e.type?lt(t+e.amount):t,0),t.total.outcome=t.items.reduce((t,e)=>"-"===e.type?lt(t+e.amount):t,0)}),this.$store.commit("insertDailyExpense",a),a}dailyExpense(t){const e=lt(t.income-t.outcome);return e>=0?"+"+e:e}beautify(t){const e=S()(t),s=S()();return e.isSame(s,"day")?e.format("M-D")+" 今天":e.isSame(s.subtract(1,"day"),"day")?e.format("M-D")+" 昨天":e.isSame(s.subtract(2,"day"),"day")?e.format("M-D")+" 前天":e.isSame(s,"year")?e.format("M-D "):e.format("YYYY-M-D")}showTag(t){return"-"===t?{type:"支出",symbol:"-"}:{type:"收入",symbol:"+"}}};Object(h["a"])([Object(m["b"])(String)],ut.prototype,"theDate",void 0),ut=Object(h["a"])([m["a"]],ut);var dt=ut,pt=dt,ft=(s("a6d0"),Object(i["a"])(pt,ct,rt,!1,null,"f1edbc5c",null)),ht=ft.exports;let mt=class extends a["a"]{constructor(){super(...arguments),this.theDate=this.$store.state.theDate}dateChanged(t){this.theDate=t,this.$store.commit("saveDate",t)}};Object(h["a"])([Object(m["c"])("theDate")],mt.prototype,"dateChanged",null),mt=Object(h["a"])([Object(m["a"])({components:{Content:ht,Nav:it}})],mt);var vt=mt,yt=vt,bt=(s("8d9e"),Object(i["a"])(yt,Q,X,!1,null,"7e80314c",null)),gt=bt.exports,wt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Layout",[e("Tabs",{attrs:{"data-source":t.recordTypeList,value:t.type},on:{"update:value":function(e){t.type=e}}}),e("StatisticsContent",{attrs:{type:t.type}})],1)},_t=[],xt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("ul",{staticClass:"tabs",class:{income:"+"===t.value,outcome:"-"===t.value}},t._l(t.dataSource,(function(s){return e("li",{key:s.value,staticClass:"tabs-item",class:{[t.classPrefix+"-tabs-item"]:t.classPrefix,selected:s.value===t.value},on:{click:function(e){return t.selectToggle(s.value)}}},[t._v(t._s(s.text)+" ")])})),0)},Ot=[];let Ct=class extends a["a"]{selectToggle(t){this.$emit("update:value",t)}};Object(h["a"])([Object(m["b"])({required:!0,type:Array})],Ct.prototype,"dataSource",void 0),Object(h["a"])([Object(m["b"])(String)],Ct.prototype,"classPrefix",void 0),Object(h["a"])([Object(m["b"])({required:!0,type:String})],Ct.prototype,"value",void 0),Ct=Object(h["a"])([m["a"]],Ct);var jt=Ct,St=jt,Mt=(s("16f8"),Object(i["a"])(St,xt,Ot,!1,null,"48d81c9a",null)),kt=Mt.exports,Yt=Object.freeze([{text:"支出",value:"-"},{text:"收入",value:"+"}]),Lt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[0===t.dailyExpense.length?[e("span",{staticClass:"tip"},[t._v("暂无数据记录,快来记一笔吧！")])]:[e("Charts",{attrs:{options:t.pieChartOptions}}),e("Charts",{attrs:{options:t.barChartOptions}}),e("CostList",{attrs:{type:t.type}})]],2)},Dt=[],Tt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{ref:"wrapper",staticClass:"wrapper"})},Pt=[],Nt=s("313e");let zt=class extends a["a"]{mounted(){if(void 0===this.options)return console.error("options is undefined");this.chart=Nt["a"](this.$refs.wrapper),this.chart.setOption(this.options)}onOptionsChanged(t){this.chart.setOption(t)}};Object(h["a"])([Object(m["b"])()],zt.prototype,"options",void 0),Object(h["a"])([Object(m["c"])("options")],zt.prototype,"onOptionsChanged",null),zt=Object(h["a"])([m["a"]],zt);var At=zt,$t=At,It=(s("c6cd3"),Object(i["a"])($t,Tt,Pt,!1,null,"06331d06",null)),Et=It.exports,Vt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"wrapper"},[0!==t.costList.length?[e("span",{staticClass:"title"},[t._v("金额排行榜")]),e("ol",t._l(t.costList,(function(s,a){return e("li",{key:s.id},[e("div",{staticClass:"left"},[e("span",{staticClass:"cost-list"},[t._v(t._s(a+1))])]),e("div",{staticClass:"right"},[e("span",{staticClass:"tags"},[t._v(t._s(s.tags))]),e("span",{staticClass:"amount"},[t._v(t._s(s.amount))]),e("span",{staticClass:"notes"},[t._v(t._s(s.notes))]),e("span",{staticClass:"createAt"},[t._v(t._s(t.formatDay(s.createAt)))])])])})),0)]:t._e()],2)},Ht=[];let Bt=class extends a["a"]{constructor(){super(...arguments),this.date=this.$store.state.theDate||new Date}get costList(){const t=this.$store.state.recordList,e=et(t);let s=e.filter(t=>S()(t.createAt).isSame(this.date,"month"));const a=[];s.sort((function(t,e){return e.amount-t.amount}));for(let o=0;o<s.length;o++)this.type===s[o].type&&(""===s[o].notes&&(s[o].notes="暂无备注"),"+"===s[o].type?s[o].amount="+"+s[o].amount:"-"===s[o].type&&(s[o].amount="-"+s[o].amount),a.push(s[o]));return a}formatDay(t){const e=S()(t).format(" M月D日 HH:mm");return e}};Object(h["a"])([Object(m["b"])(String)],Bt.prototype,"type",void 0),Bt=Object(h["a"])([m["a"]],Bt);var Jt=Bt,Kt=Jt,Rt=(s("cea8"),Object(i["a"])(Kt,Vt,Ht,!1,null,"75bb34be",null)),Ft=Rt.exports;let Ut=s("2ef0"),Wt=class extends a["a"]{constructor(){super(...arguments),this.dailyExpense=this.$store.state.dailyExpense,this.date=this.$store.state.theDate||new Date}get pieChartOptions(){let t="+"===this.type?"#f2b52d":"#2db970",e=[];if("-"===this.type)for(let s=0;s<this.pieKeyValueList.length;s++)0!==this.pieKeyValueList[s].outcome&&e.push({value:this.pieKeyValueList[s].outcome,name:this.pieKeyValueList[s].tags});else if("+"===this.type)for(let s=0;s<this.pieKeyValueList.length;s++)0!==this.pieKeyValueList[s].income&&e.push({value:this.pieKeyValueList[s].income,name:this.pieKeyValueList[s].tags});return e.sort((function(t,e){return t.value-e.value})),{title:{show:!0,text:"消费项目",left:20,top:0,textStyle:{color:"#666",fontWeight:"normal"}},tooltip:{show:!0,trigger:"item",alwaysShowContent:!1},legend:{top:"5%",left:"center"},series:[{name:"金额明细",type:"pie",clickable:!1,minAngle:15,avoidLabelOverlap:!0,hoverAnimation:!1,radius:["40%","70%"],colorBy:"series",itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2,color:t},labelLine:{show:!0,lineStyle:{color:"#c7c7c7"}},label:{show:!0,position:"outside",color:"#c7c7c7"},data:e}]}}get pieKeyValueList(){const t=this.$store.state.recordList,e=et(t);let s=e.filter(t=>S()(t.createAt).isSame(this.date,"month")),a=[{tags:s[0].tags,income:0,outcome:0}];"-"===s[0].type?a[0].outcome=s[0].amount:a[0].income=s[0].amount;for(let o=1;o<s.length;o++){let t=!1;if(S()(this.date).isSame(s[o].createAt,"month")){for(let e=0;e<a.length;e++)s[o].tags===a[e].tags&&(t=!0,"-"===s[o].type?a[e].outcome+=s[o].amount:a[e].income+=s[o].amount);t||("-"===s[o].type?a.push({tags:s[o].tags,income:0,outcome:s[o].amount}):a.push({tags:s[o].tags,income:s[o].amount,outcome:0}))}}return a}get barChartOptions(){const t=this.barKeyValueList.map(t=>S()(t.date).format("M-D")),e=this.barKeyValueList.map(t=>t.value),s="-"===this.type?"#2db970":"#f2b52d";return{title:{show:!0,text:"每日对比",left:20,top:20,textStyle:{color:"#666",fontWeight:"normal"}},tooltip:{show:!0,trigger:"axis",triggerOn:"click",borderColor:s,axisPointer:{type:"shadow"},backgroundColor:"rgba(255,255,255,0.6)",textStyle:{color:"#666"},extraCssText:"box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);"},grid:{left:0,right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t,axisTick:{alignWithLabel:!0}}],yAxis:[{show:!1,type:"value"}],series:[{name:"消费金额",type:"bar",barWidth:"60%",data:e,colorBy:"series",itemStyle:{color:s}}]}}get barKeyValueList(){const t=S()(this.date).endOf("month").format("YYYY-MM-DD"),e=[],s=parseInt(S()(this.date).endOf("month").format("D"));for(let a=0;a<s;a++){const s=S()(t).subtract(a,"day").format("YYYY-MM-DD"),o=Ut.find(this.dailyExpense,{title:s});"-"===this.type?e.push({date:s,value:o?o.total.outcome:0}):"+"===this.type&&e.push({date:s,value:o?o.total.income:0})}return e.sort((t,e)=>t.date>e.date?1:t.date===e.date?0:-1),e}};Object(h["a"])([Object(m["b"])(String)],Wt.prototype,"type",void 0),Wt=Object(h["a"])([Object(m["a"])({components:{CostList:Ft,Charts:Et}})],Wt);var qt=Wt,Gt=qt,Qt=(s("4f4a"),Object(i["a"])(Gt,Lt,Dt,!1,null,"63defe00",null)),Xt=Qt.exports;let Zt=class extends a["a"]{constructor(){super(...arguments),this.recordTypeList=Yt,this.type="-"}};Zt=Object(h["a"])([Object(m["a"])({components:{StatisticsContent:Xt,Tabs:kt}})],Zt);var te=Zt,ee=te,se=Object(i["a"])(ee,wt,_t,!1,null,null,null),ae=se.exports,oe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"not-found"},[e("br"),t._v(" "),e("h1",[t._v("404")]),t._v(" "),e("br"),e("p",[t._v("当前页面找不到，请检查路径是否正确")]),t._v(" "),e("br"),e("router-link",{attrs:{to:"/"}},[t._v("返回首页")])],1)},ne=[],ie={name:"NotFound"},ce=ie,re=(s("b5e9"),Object(i["a"])(ce,oe,ne,!1,null,"45f98903",null)),le=re.exports;a["a"].use(d["a"]);const ue=[{path:"/",redirect:"/money"},{path:"/detail",name:"Detail",component:gt},{path:"/money",name:"Money",component:G},{path:"/statistics",name:"Statistics",component:ae},{path:"*",component:le}],de=new d["a"]({routes:ue});var pe=de,fe=s("2f62");function he(){let t=parseInt(window.localStorage.getItem("id_Max")||"0")||0;return t+=1,window.localStorage.setItem("id_Max",t.toString()),t}a["a"].use(fe["a"]);const me=new fe["a"].Store({state:{selectedTags:[],tagList:JSON.parse(window.localStorage.getItem("tag-list")||'["衣","食","住","行","工资","红包","医疗"]'),recordList:JSON.parse(window.localStorage.getItem("record-list")||"[]"),dailyExpense:JSON.parse(window.localStorage.getItem("daily-expense")||"[]"),theDate:window.localStorage.getItem("date")||S()().format("YYYY-MM")},mutations:{initTags(t,e){window.localStorage.setItem("tag-list",JSON.stringify(e))},selectedTags(t,e){t.selectedTags=e},insertTag(t,e){t.tagList&&t.tagList.indexOf(e)>=0?window.alert("该标签已存在"):t.tagList.push(e),me.commit("saveTag")},saveTag(t){window.localStorage.setItem("tag-list",JSON.stringify(t.tagList))},insertRecord(t,e){e.id=he(),e.createAt=e.createAt||(new Date).toISOString(),t.recordList.push(e),0===e.tags.length&&(e.tags="其它"),me.commit("saveRecord")},saveRecord(t){window.localStorage.setItem("record-list",JSON.stringify(t.recordList))},insertDailyExpense(t,e){t.dailyExpense=e,me.commit("saveDailyExpense")},saveDailyExpense(t){window.localStorage.setItem("daily-expense",JSON.stringify(t.dailyExpense))},saveDate(t,e){t.theDate=e,window.localStorage.setItem("date",t.theDate)}},actions:{},modules:{}});var ve=me,ye=function(){var t=this,e=t._self._c;return e("nav",[e("router-link",{staticClass:"item",attrs:{to:"/detail","active-class":"selected"}},[e("Icon",{attrs:{name:"detail"}}),t._v(" 明细 ")],1),e("router-link",{staticClass:"item",attrs:{to:"/money","active-class":"selected"}},[e("Icon",{attrs:{name:"account"}}),t._v(" 记账 ")],1),e("router-link",{staticClass:"item",attrs:{to:"statistics","active-class":"selected"}},[e("Icon",{attrs:{name:"statistics"}}),t._v(" 统计 ")],1)],1)},be=[],ge={name:"Nav"},we=ge,_e=(s("72d6"),Object(i["a"])(we,ye,be,!1,null,"5a81a448",null)),xe=_e.exports,Oe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-wrapper",class:t.classPrefix&&t.classPrefix+"-wrapper"},[e("div",{staticClass:"content",class:t.classPrefix&&t.classPrefix+"-content"},[t._t("default")],2),e("Nav")],1)},Ce=[],je={name:"Layout",props:["classPrefix"]},Se=je,Me=(s("3943"),Object(i["a"])(Se,Oe,Ce,!1,null,"2a2ad27b",null)),ke=Me.exports,Ye=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("svg",{staticClass:"icon"},[e("use",{attrs:{"xlink:href":"#"+t.name}})])},Le=[];const De=t=>t.keys().forEach(t);try{De(s("b422"))}catch($e){console.log($e)}let Te=class extends a["a"]{};Object(h["a"])([Object(m["b"])(String)],Te.prototype,"name",void 0),Te=Object(h["a"])([m["a"]],Te);var Pe=Te,Ne=Pe,ze=(s("eea2"),Object(i["a"])(Ne,Ye,Le,!1,null,"6f9393fa",null)),Ae=ze.exports;if(a["a"].config.productionTip=!1,a["a"].component("Nav",xe),a["a"].component("Layout",ke),a["a"].component("Icon",Ae),new a["a"]({router:pe,store:ve,render:t=>t(l)}).$mount("#app"),document.documentElement.clientWidth>500){window.alert("请使用手机扫描右上方二维码打开本页面，以保证浏览效果");const t=document.createElement("img");t.src="./qrcode.png",t.style.width="120px",t.style.position="fixed",t.style.right="20px",t.style.top="10px",t.style.zIndex="100",t.style.boxShadow="0 0 10px rgba(0,0,0,0.25)",document.body.appendChild(t)}},cea8:function(t,e,s){"use strict";s("4ba4")},d153:function(t,e,s){},ddc0:function(t,e,s){"use strict";s.r(e);var a=s("e017"),o=s.n(a),n=s("21a1"),i=s.n(n),c=new o.a({id:"detail",use:"detail-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="detail">\n    <defs>\n        <style type="text/css">@font-face { font-family: feedback-iconfont; src:\n            url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944") format("woff2"),\n            url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944") format("woff"),\n            url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944") format("truetype"); }\n        </style>\n    </defs>\n    <path d="M108.639391 306.270091h50.99502v136.08671h-50.99502zM108.639391 578.443511h50.99502v135.086808h-50.99502z" p-id="874" />\n    <path d="M986.653647 130.487257v765.925203c0 70.393126-57.194415 127.58754-127.58754 127.58754l-622.939166-2.799727c-70.393126 0-127.58754-57.194415-127.587541-127.58754v-43.995703h50.99502v43.995703c0 42.195879 34.296651 76.59252 76.592521 76.59252l622.939166 2.799727c42.195879 0 76.59252-34.296651 76.59252-76.59252v-765.925203c0-42.195879-34.296651-76.59252-76.59252-76.59252l-622.939166-2.799727c-42.195879 0-76.59252 34.296651-76.592521 76.592521v42.49585h-50.99502v-42.49585C108.5394 57.294405 165.733815 0.09999 236.126941 0.09999l622.939166 2.799727c70.393126 0 127.58754 57.294405 127.58754 127.58754z" p-id="875" />\n    <path d="M37.546333 754.626306h183.682063v50.99502H37.546333zM37.546333 212.179279h183.682063v50.99502H37.546333zM37.546333 484.952641h183.682063v50.99502H37.546333zM308.2199 449.656088h531.248121v50.99502H308.2199zM308.2199 246.775901h531.248121v50.99502H308.2199zM308.2199 656.335905h315.569183v50.99502H308.2199zM808.171077 646.536862L762.975491 747.227029l-44.095694-100.690167h-58.694268l74.192754 101.490088h-54.494678v33.996681h68.793282V816.920223h-68.793282v33.496728h68.793282v68.293331h33.99668v-68.293331H850.966898V816.920223h-68.293331v-34.796602H850.966898v-33.99668h-60.294112l86.891514-101.490089h-69.393223z" p-id="876" />\n</symbol>'});i.a.add(c);e["default"]=c},e0f0:function(t,e,s){"use strict";s("609a")},ec49:function(t,e,s){},ecec:function(t,e,s){"use strict";s.r(e);var a=s("e017"),o=s.n(a),n=s("21a1"),i=s.n(n),c=new o.a({id:"account",use:"account-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="account"><defs><style type="text/css">@font-face { font-family: "feedback-iconfont"; src: url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944") format("woff2"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944") format("woff"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944") format("truetype"); }\n</style></defs><path d="M894.6 892.8H123.3c-13.8 0-25 11.2-25 25s11.2 25 25 25h771.4c13.8 0 25-11.2 25-25s-11.3-25-25.1-25zM399.8 811c0 13.8 11.2 25 25 25h462.7c13.8 0 25-11.2 25-25s-11.2-25-25-25H424.8c-13.8 0-25 11.2-25 25zM146.3 841.3c4.2 2.9 9.1 4.3 14 4.3 4.4 0 8.8-1.2 12.7-3.5L335.8 746c4.9-1.7 9.1-5 12.1-9.3l307.5-442.5 0.9-1.2 57.5-82.7c7.9-11.3 5.1-26.9-6.3-34.8l-136.7-95c-5.4-3.8-12.2-5.3-18.7-4.1-6.5 1.2-12.3 4.9-16.1 10.3L481.6 165l-0.9 1.2-310.6 447c-1.2 1.8-2.2 3.7-2.9 5.7-1 2.2-1.8 4.5-2.2 7l-29.4 190.9c-1.5 9.5 2.7 19.1 10.7 24.5z m46.7-69.1l15.4-99.8 71.8 48.4-87.2 51.4z m369.8-636.3l95.6 66.5-26.8 38.5-95.6-66.5 26.8-38.5z m-57.5 82.7l95.6 66.5-279.8 402.6-95.6-66.5 279.8-402.6z" p-id="6616" /></symbol>'});i.a.add(c);e["default"]=c},eea2:function(t,e,s){"use strict";s("4411")},f139:function(t,e,s){},f221:function(t,e,s){},f26f:function(t,e,s){},ff25:function(t,e,s){"use strict";s("f139")}});
//# sourceMappingURL=app.a79cbaf1.js.map